<!DOCTYPE html>
<html lang="es">
  <%- include("../partials/head") %>
  <body>
    <div class="page-container">
      <%- include("../partials/header") %>

      <main class="content">
        <section class="register">
          <h1>Registro de Usuario</h1>

          <form
            action="/users/register"
            method="POST"
            class="register-form"
            enctype="multipart/form-data"  
          >
            
            <% if (errors && errors.length > 0) { %>
              <ul class="error-messages">
                <% errors.forEach((error) => { %>
                  <li><%= error %></li>
                <% }) %>
              </ul>
            <% } %>

            <div class="form-group">
              <label for="name">Nombre:</label>
              <input
                type="text"
                id="name"
                name="name"
                value="<%= oldData ? oldData.name : '' %>"
                required
              />
            </div>

            <div class="form-group">
              <label for="lastName">Apellido:</label>
              <input
                type="text"
                id="lastName"
                name="lastName"
                value="<%= oldData ? oldData.lastName : '' %>"
                required
              />
            </div>

            <div class="form-group">
              <label for="email">Correo Electrónico:</label>
              <input
                type="email"
                id="email"
                name="email"
                value="<%= oldData ? oldData.email : '' %>"
                required
              />
            </div>

            <div class="form-group">
              <label for="password">Contraseña:</label>
              <input
                type="password"
                id="password"
                name="password"
                required
                minlength="8"
              />
            </div>

            <div class="form-group">
              <label for="confirmPassword">Confirmar Contraseña:</label>
              <input
                type="password"
                id="confirmPassword"
                name="confirmPassword"
                required
              />
            </div>

            <div class="form-group">
              <label for="image">Imagen de Perfil:</label>
              <input
                type="file"
                id="image"
                name="image"
                accept="image/*"
              />
            </div>

            <button type="submit" class="cta-buttonRegister">Registrar</button>
          </form>
        </section>
      </main>

      <%- include("../partials/footer") %>
    </div>
  </body>
</html>